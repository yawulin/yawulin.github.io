<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    
    <title>gulp自动化构建工具学习 | 涯无凌</title>
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <meta name="description" content="Gulp.js 是一个自动化构建工具,开发者可以使用它在项目开发过程中自动执行常见任务。在这里介绍了gulp的入门，插件和gulpfile.js配置文件。">
<meta name="keywords" content="gulp">
<meta property="og:type" content="article">
<meta property="og:title" content="gulp自动化构建工具学习">
<meta property="og:url" content="http://blog.ywulin.com/201706251602.html">
<meta property="og:site_name" content="涯无凌">
<meta property="og:description" content="Gulp.js 是一个自动化构建工具,开发者可以使用它在项目开发过程中自动执行常见任务。在这里介绍了gulp的入门，插件和gulpfile.js配置文件。">
<meta property="og:updated_time" content="2017-06-25T08:20:09.953Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="gulp自动化构建工具学习">
<meta name="twitter:description" content="Gulp.js 是一个自动化构建工具,开发者可以使用它在项目开发过程中自动执行常见任务。在这里介绍了gulp的入门，插件和gulpfile.js配置文件。">
    
    
      <link rel="icon" href="/favicon.ico" >
    
    
      <link href="//fonts.googleapis.com/css?family=Source+Code+Pro" rel="stylesheet" type="text/css" >
    
    <link rel="stylesheet" href="https://at.alicdn.com/t/font_350yjxn0ozbprpb9.css">
    <link rel="stylesheet" href="/css/Ani.css">
    <link rel="stylesheet" href="/css/github-markdown.css">
    <link rel="stylesheet" href="/css/highlight.css">
    
      <script>
        var _hmt = _hmt || [];
        (function() {
          var hm = document.createElement("script");
          hm.src = "https://hm.baidu.com/hm.js?d07bed116b18b9fa55ad47db97b8c8d0";
          var s = document.getElementsByTagName("script")[0];
          s.parentNode.insertBefore(hm, s);
        })();
        </script>
    
  </head>

<body>
  <div id="bg">
  <img src="/image/bg.jpg"/>
</div>

  <div id="container">
    <header id="header">
  <nav class="header-nav">
    
      <a class="nav-item js-transition-hover" href="/">
        <span>首页</span>
        <i class="nav-item-bottom js-transition-bottom"></i>
      </a>
    
      <a class="nav-item js-transition-hover" href="/archives">
        <span>归档</span>
        <i class="nav-item-bottom js-transition-bottom"></i>
      </a>
    
    
  </nav>
  <div class="header-desc">
    <h1 class="author">涯无凌</h1>
    
      <h2 class="author-subtitle">一枚渣渣前端工程师</h2>
    
  </div>
</header>

    <div id="content">
      
        <section id="main">
          <div id="post">
  <div class="post-header">
    <div class="post-title">gulp自动化构建工具学习</div>
    <div class="post-meta-c">
      <div class="post-meta-l">
        <div class="post-date">
          <i class="iconfont icon-riqi"></i>
          <span>2017-06-25</span>
        </div>
        
          <span class="post-meta-line">|</span>
          <div class="post-category">
            
              <div class="post-category-item">
                <i class="iconfont icon-fenlei"></i>
                <a href="/categories/自动化构建工具/">自动化构建工具</a>
              </div>
            
          </div>
        
      </div>
      
        <div>
          <i class="iconfont icon-yuedu"></i>
          <span id="busuanzi_value_page_pv"></span>
        </div>
      
    </div>
  </div>
  <div class="markdown-body">
    <p>Gulp.js 是一个自动化构建工具,开发者可以使用它在项目开发过程中自动执行常见任务。在这里介绍了gulp的入门，插件和gulpfile.js配置文件。</p>
<a id="more"></a>
<h5 id="入门"><a href="#入门" class="headerlink" title="入门"></a>入门</h5><ol>
<li><p>全局安装<code>gulp</code></p>
<pre><code>$ npm install -g gulp
</code></pre></li>
<li><p>新建一个文件夹作为项目，进入该文件夹，初始化</p>
<pre><code>$ mkdir example
$ npm init
</code></pre></li>
<li><p>安装开发依赖（<code>devDependences</code>）</p>
<pre><code>$ npm install --save-dev gulp
</code></pre></li>
<li><p>在项目根目录新建 <code>gulpfile.js</code> 文件</p>
<pre><code>$ touch gulpfile.js
</code></pre></li>
<li><p>编辑<code>gulpfile.js</code>文件</p>
 <figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> gulp = <span class="built_in">require</span>(<span class="string">'gulp'</span>);</div><div class="line"></div><div class="line">   gulp.task(<span class="string">'default'</span>, <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</div><div class="line">   	<span class="comment">//默认任务代码</span></div><div class="line">   &#125;);</div></pre></td></tr></table></figure>
</li>
<li><p>命令行运行gulp，即可运行默认任务</p>
<pre><code>$ gulp
</code></pre></li>
</ol>
<hr>
<h5 id="api介绍"><a href="#api介绍" class="headerlink" title="api介绍"></a>api介绍</h5><blockquote>
<p>这里只列出api常用用法，了解更多请查阅官网<a href="http://www.gulpjs.com.cn/docs/api/" target="_blank" rel="external">http://www.gulpjs.com.cn/docs/api/</a></p>
</blockquote>
<ol>
<li><p>gulp.src(globs[, options])</p>
<p> 输出符合匹配的文件并返回一个<code>stream</code>，可<code>pipe</code>到其他插件</p>
<ul>
<li><p>golbs(类型：<code>String</code>或<code>Array</code>)</p>
<blockquote>
<p>String: ‘src/js/*.js’<br>Array: [‘src/js/*.js’, ‘src/css/*.css’]</p>
</blockquote>
</li>
</ul>
</li>
<li><p>gulp.dest(path[, options])</p>
<p> 将<code>pipe</code>进来的数据转存为指定文件夹下的文件，若指定文件夹不存在，则自动创建该文件夹</p>
<ul>
<li><p>path(类型：<code>String</code>或<code>Function</code>)</p>
<blockquote>
<p>String: ‘dist/js’<br>Function: 在函数中返回相应路径</p>
</blockquote>
</li>
</ul>
</li>
<li><p>gulp.task(name[, deps], fn)</p>
<p> 定义一个任务</p>
 <figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">gulp.task(<span class="string">'something'</span>, functio () &#123;</div><div class="line">	doSomething();</div><div class="line">&#125;);</div></pre></td></tr></table></figure>
<ul>
<li><p>name(类型：<code>String</code>)</p>
<blockquote>
<p>任务的名字，可在命令行中通过<code>name</code>运行任务，<code>$ gulp name</code></p>
</blockquote>
</li>
<li><p>deps(类型：Array)</p>
<blockquote>
<p>一个包含任务列表的数组，这些任务会在当前任务运行之前完成</p>
</blockquote>
</li>
<li><p>fn(类型：<code>Function</code>)</p>
<blockquote>
<p>该任务要执行的内容</p>
</blockquote>
</li>
</ul>
</li>
<li><p>gulp.watch(glob[, opts], tasks) 或 gulp.watch(globs[, opts, cb])</p>
<p> 文件监视，当指定匹配文件发生变化时，执行tasks或函数cb</p>
<ul>
<li><p>glob(类型：<code>String</code>或<code>Array</code>)</p>
</li>
<li><p>tasks(类型：<code>String</code>或<code>Array</code>)</p>
<blockquote>
<p>文件变动后执行之前定义好的任务</p>
</blockquote>
</li>
<li><p>cb(类型： <code>Function</code>)</p>
<blockquote>
<p>传入一个记录文件变动的<code>event</code>对象，<code>event.type</code>记录变动类型：<code>added</code>, <code>changed</code>, <code>deleted</code>；<code>event.path</code>记录变动文件的路径</p>
</blockquote>
</li>
</ul>
</li>
</ol>
<hr>
<h5 id="gulp插件介绍"><a href="#gulp插件介绍" class="headerlink" title="gulp插件介绍"></a>gulp插件介绍</h5><ol>
<li><p>gulp-less/gulp-sass</p>
<p> 预编译less/sass文件为css文件</p>
<p> 安装：<code>$ npm install --save-dev gulp-less</code></p>
</li>
<li><p>gulp-autoprefixer</p>
<p> 设置浏览器版本，css文件自动添加浏览器前缀</p>
<p> 安装：<code>$ npm install --save-dev gulp-autoprefixer</code></p>
</li>
<li><p>gulp-minify-css</p>
<p> 压缩css文件</p>
<p> 安装：<code>$ npm install --save-dev gulp-minify-css</code></p>
</li>
<li><p>gulp-rename</p>
<p> 重命名要输出的文件，如将.css重命名为.min.css</p>
<p> 安装：<code>$ npm install --save-dev gulp-rename</code></p>
</li>
<li><p>vinyl-buffer</p>
<p> 将vinyl对象内容中的stream转换为buffer</p>
<p> 安装：<code>$ npm install --save-dev vinyl-buffer</code></p>
</li>
<li><p>vinyl-source-stream</p>
<p> 将Browserify的bundle()的输出转换为Gulp可用的vinyl流</p>
<p> 安装：<code>$ npm install --save-dev vinyl-source-stream</code></p>
</li>
<li><p>gulp-sourcemaps</p>
<p> 编写内联sourcemaps</p>
<p> 安装：<code>$ npm install --save-dev gulp-sourcemaps</code></p>
</li>
<li><p>browserify</p>
<p> 可以让你使用类似于 node 的 require() 的方式来组织浏览器端的 Javascript 代码，在这里用来管理依赖</p>
<p> 安装：<code>$ npm install --save-dev browserify</code></p>
</li>
<li><p>babelify</p>
<p> 将ES6转换成ES5</p>
<p> 安装：<code>$ npm install --save-dev babelify</code></p>
</li>
<li><p>gulp-uglify</p>
<p>压缩 JavaScript 文件</p>
<p>安装：<code>$ npm install --save-dev gulp-uglify</code></p>
</li>
<li><p>gulp-imagemin</p>
<p>压缩 png，jpeg，gif和svg图片资源</p>
<p>安装：<code>$ npm install --save-dev gulp-imagemin</code></p>
</li>
<li><p>gulp-cache</p>
<p>图片缓存，只有图片替换了才压缩</p>
<p>安装：<code>$ npm install --save-dev gulp-cache</code></p>
</li>
<li><p>gulp-clean</p>
<p>移除文件或文件夹</p>
<p>安装：<code>$ npm install --save-dev gulp-clean</code></p>
</li>
<li><p>gulp-util</p>
<p>包含gulp的一些实用功能，在这里用来打印编译错误</p>
<p>安装：<code>$ npm install --save-dev gulp-util</code></p>
</li>
<li><p>gulp-notify</p>
<p>当文件变更时提醒</p>
<p>安装：<code>$ npm install gulp-notify</code></p>
</li>
<li><p>gulp-connect</p>
<p>gulp中用来运行服务器的插件，内含LiveReload，自动刷新浏览器</p>
<p>安装：<code>$ npm install --save-dev gulp-connect</code></p>
</li>
</ol>
<hr>
<h5 id="gulpfile-js文件配置"><a href="#gulpfile-js文件配置" class="headerlink" title="gulpfile.js文件配置"></a>gulpfile.js文件配置</h5><ul>
<li>内含 ES6 转 ES5</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div><div class="line">65</div><div class="line">66</div><div class="line">67</div><div class="line">68</div><div class="line">69</div><div class="line">70</div><div class="line">71</div><div class="line">72</div><div class="line">73</div><div class="line">74</div><div class="line">75</div><div class="line">76</div><div class="line">77</div><div class="line">78</div><div class="line">79</div><div class="line">80</div><div class="line">81</div><div class="line">82</div><div class="line">83</div><div class="line">84</div><div class="line">85</div><div class="line">86</div><div class="line">87</div><div class="line">88</div><div class="line">89</div><div class="line">90</div><div class="line">91</div><div class="line">92</div><div class="line">93</div><div class="line">94</div><div class="line">95</div><div class="line">96</div><div class="line">97</div><div class="line">98</div><div class="line">99</div><div class="line">100</div><div class="line">101</div><div class="line">102</div><div class="line">103</div><div class="line">104</div><div class="line">105</div><div class="line">106</div><div class="line">107</div><div class="line">108</div><div class="line">109</div><div class="line">110</div><div class="line">111</div><div class="line">112</div><div class="line">113</div><div class="line">114</div><div class="line">115</div><div class="line">116</div><div class="line">117</div><div class="line">118</div><div class="line">119</div><div class="line">120</div><div class="line">121</div><div class="line">122</div><div class="line">123</div><div class="line">124</div><div class="line">125</div><div class="line">126</div><div class="line">127</div><div class="line">128</div><div class="line">129</div><div class="line">130</div><div class="line">131</div><div class="line">132</div><div class="line">133</div><div class="line">134</div><div class="line">135</div><div class="line">136</div><div class="line">137</div><div class="line">138</div><div class="line">139</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> gulp = <span class="built_in">require</span>(<span class="string">'gulp'</span>),</div><div class="line">    less = <span class="built_in">require</span>(<span class="string">'gulp-less'</span>),</div><div class="line">    autoprefixer = <span class="built_in">require</span>(<span class="string">'gulp-autoprefixer'</span>),</div><div class="line">    minifycss = <span class="built_in">require</span>(<span class="string">'gulp-minify-css'</span>),</div><div class="line">    uglify = <span class="built_in">require</span>(<span class="string">'gulp-uglify'</span>),</div><div class="line">    imagemin = <span class="built_in">require</span>(<span class="string">'gulp-imagemin'</span>),</div><div class="line">    rename = <span class="built_in">require</span>(<span class="string">'gulp-rename'</span>),</div><div class="line">    clean = <span class="built_in">require</span>(<span class="string">'gulp-clean'</span>),</div><div class="line">    cache = <span class="built_in">require</span>(<span class="string">'gulp-cache'</span>),</div><div class="line">    notify = <span class="built_in">require</span>(<span class="string">'gulp-notify'</span>),</div><div class="line">    browserify = <span class="built_in">require</span>(<span class="string">'browserify'</span>),</div><div class="line">    babelify = <span class="built_in">require</span>(<span class="string">'babelify'</span>),</div><div class="line">    buffer = <span class="built_in">require</span>(<span class="string">'vinyl-buffer'</span>),</div><div class="line">    source = <span class="built_in">require</span>(<span class="string">'vinyl-source-stream'</span>),</div><div class="line">    sourcemaps = <span class="built_in">require</span>(<span class="string">'gulp-sourcemaps'</span>),</div><div class="line">    gutil = <span class="built_in">require</span>(<span class="string">'gulp-util'</span>),</div><div class="line">    connect = <span class="built_in">require</span>(<span class="string">'gulp-connect'</span>);</div><div class="line"></div><div class="line"><span class="comment">/*</span></div><div class="line"> * styles任务，将'src/less'目录下的less文件转换成css文件，</div><div class="line"> * 并加上浏览器前缀，存放于'dist/css'目录下，之后重命名加上.min，压缩，</div><div class="line"> * 保存为.min.css文件，之后刷新浏览器，并提醒style任务完成</div><div class="line"> */</div><div class="line">gulp.task(<span class="string">'styles'</span>, <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</div><div class="line">    <span class="keyword">return</span> gulp.src(<span class="string">'src/less/*.less'</span>)</div><div class="line">        .pipe(less())</div><div class="line">        .pipe(autoprefixer(<span class="string">'last 2 version'</span>, <span class="string">'safari 5'</span>, <span class="string">'ie 8'</span>,</div><div class="line">        <span class="string">'ie 9'</span>, <span class="string">'opera 12.1'</span>, <span class="string">'ios 6'</span>, <span class="string">'android 4'</span>))</div><div class="line">        .on(<span class="string">'error'</span>, gutil.log)</div><div class="line">        .pipe(gulp.dest(<span class="string">'dist/css'</span>))</div><div class="line">        .pipe(rename(&#123;<span class="attr">suffix</span>: <span class="string">'.min'</span>&#125;))</div><div class="line">        .pipe(sourcemaps.init())</div><div class="line">        .pipe(minifycss())</div><div class="line">        .pipe(sourcemaps.write(<span class="string">'./'</span>))</div><div class="line">        .pipe(gulp.dest(<span class="string">'dist/css'</span>))</div><div class="line">        .pipe(connect.reload())</div><div class="line">        .pipe(notify(&#123;<span class="attr">message</span>: <span class="string">'style task complete'</span>&#125;);</div><div class="line">&#125;);</div><div class="line"></div><div class="line"><span class="comment">/*</span></div><div class="line"> * scripts任务，通过browserify设置入口文件，然后用babelify将</div><div class="line"> * es6转换成es5，保存在'dist/js'目录下，之后压缩js文件，重命名</div><div class="line"> * 保存为.min.js文件</div><div class="line"> */</div><div class="line">gulp.task(<span class="string">'scripts'</span>, <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</div><div class="line">    <span class="keyword">var</span> b = browserify(&#123;</div><div class="line">        <span class="attr">entries</span>: <span class="string">'src/js/cart.js'</span>,</div><div class="line">        <span class="attr">debug</span>: <span class="literal">true</span></div><div class="line">    &#125;);</div><div class="line"></div><div class="line">    <span class="keyword">return</span> b.transform(babelify.configure(&#123;</div><div class="line">            <span class="attr">presets</span>: [<span class="string">"es2015"</span>]</div><div class="line">        &#125;))</div><div class="line">        .bundle()</div><div class="line">        .on(<span class="string">'error'</span>, gutil.log)</div><div class="line">        .pipe(source(<span class="string">'cart.js'</span>))</div><div class="line">        .pipe(gulp.dest(<span class="string">'dist/js'</span>))</div><div class="line">        .pipe(buffer())</div><div class="line">        .pipe(sourcemaps.init(&#123;<span class="attr">loadMaps</span>: <span class="literal">true</span>&#125;))</div><div class="line">        .pipe(uglify())</div><div class="line">        .on(<span class="string">'error'</span>, gutil.log)</div><div class="line">        .pipe(sourcemaps.write(<span class="string">'./'</span>))</div><div class="line">        .pipe(rename(&#123; <span class="attr">suffix</span>: <span class="string">'.min'</span>&#125;))</div><div class="line">        .pipe(gulp.dest(<span class="string">'dist/js'</span>))</div><div class="line">        .pipe(connect.reload());</div><div class="line">&#125;);</div><div class="line"></div><div class="line"><span class="comment">/*</span></div><div class="line"> * images任务，读取'src/img'目录下的图片，压缩并保存到'dist/img'目录下</div><div class="line"> */</div><div class="line">gulp.task(<span class="string">'images'</span>, <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</div><div class="line">    <span class="keyword">return</span> gulp.src(<span class="string">'src/img/*'</span>)</div><div class="line">        .pipe(cache(imagemin([</div><div class="line">            imagemin.gifsicle(&#123;<span class="attr">interlaced</span>: <span class="literal">true</span>&#125;),</div><div class="line">            imagemin.jpegtran(&#123;<span class="attr">progressive</span>: <span class="literal">true</span>&#125;),</div><div class="line">            imagemin.optipng(&#123;<span class="attr">optimizationLevel</span>: <span class="number">5</span>&#125;),</div><div class="line">            imagemin.svgo(&#123;<span class="attr">plugins</span>: [&#123;<span class="attr">removeViewBox</span>: <span class="literal">true</span>&#125;]&#125;)])))</div><div class="line">        .on(<span class="string">'error'</span>, gutil.log)</div><div class="line">        .pipe(gulp.dest(<span class="string">'dist/img'</span>))</div><div class="line">        .pipe(connect.reload());</div><div class="line">&#125;);</div><div class="line"></div><div class="line"><span class="comment">/*</span></div><div class="line"> * html任务，读取'src'目录下的html文件，并保存到'dist'目录下</div><div class="line"> */</div><div class="line">gulp.task(<span class="string">'html'</span>, <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</div><div class="line">    <span class="keyword">return</span> gulp.src(<span class="string">'src/shangcheng/*.html'</span>)</div><div class="line">        .pipe(gulp.dest(<span class="string">'dist/'</span>))</div><div class="line">        .pipe(connect.reload());</div><div class="line">&#125;);</div><div class="line"></div><div class="line"><span class="comment">/*</span></div><div class="line"> * connect任务，运行服务器并自动刷新浏览器</div><div class="line"> */</div><div class="line">gulp.task(<span class="string">'connect'</span>, <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</div><div class="line">    connect.server(&#123;</div><div class="line">        <span class="attr">livereload</span>: <span class="literal">true</span></div><div class="line">    &#125;);</div><div class="line">&#125;);</div><div class="line"></div><div class="line"><span class="comment">/*</span></div><div class="line"> * clean任务，将dist目录下的css文件，js文件，图片文件和html文件清除</div><div class="line"> */</div><div class="line">gulp.task(<span class="string">'clean'</span>, <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</div><div class="line">    <span class="keyword">return</span> gulp.src([<span class="string">'dist/css'</span>, <span class="string">'dist/js'</span>, <span class="string">'dist/img'</span>,</div><div class="line">    <span class="string">'dist/*.html'</span>], &#123;<span class="attr">read</span>: <span class="literal">false</span>&#125;)</div><div class="line">        .pipe(clean());</div><div class="line">&#125;);</div><div class="line"></div><div class="line"><span class="comment">/*</span></div><div class="line"> * 默认任务，在开始执行styles任务，scripts任务，images任务，html任务</div><div class="line"> * 之前先执行clean任务</div><div class="line"> */</div><div class="line">gulp.task(<span class="string">'default'</span>, [<span class="string">'clean'</span>], <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</div><div class="line">    gulp.start(<span class="string">'styles'</span>, <span class="string">'scripts'</span>, <span class="string">'images'</span>, <span class="string">'html'</span>);</div><div class="line">&#125;);</div><div class="line"></div><div class="line"><span class="comment">/*</span></div><div class="line"> * 监视任务，监听less文件，js文件，图片文件和html文件的变更</div><div class="line"> */</div><div class="line">gulp.task(<span class="string">'watch'</span>, <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</div><div class="line"></div><div class="line">    <span class="comment">//监听所有.less</span></div><div class="line">    gulp.watch(<span class="string">'src/less/*.less'</span>, [<span class="string">'styles'</span>]);</div><div class="line"></div><div class="line">    <span class="comment">//监听所有.js文件</span></div><div class="line">    gulp.watch(<span class="string">'src/js/*.js'</span>, [<span class="string">'scripts'</span>]);</div><div class="line"></div><div class="line">    <span class="comment">//监听所有图片文件</span></div><div class="line">    gulp.watch(<span class="string">'src/img/*'</span>, [<span class="string">'images'</span>]);</div><div class="line"></div><div class="line">    <span class="comment">//监听html文件</span></div><div class="line">    gulp.watch(<span class="string">'src/*.html'</span>, [<span class="string">'html'</span>]);</div><div class="line">&#125;);</div><div class="line"></div><div class="line"><span class="comment">/*</span></div><div class="line"> * server任务，执行connect任务和watch任务</div><div class="line"> */</div><div class="line">gulp.task(<span class="string">'server'</span>, [<span class="string">'connect'</span>, <span class="string">'watch'</span>]);</div></pre></td></tr></table></figure>
<ul>
<li>不含 ES6 的 js 文件任务</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div></pre></td><td class="code"><pre><div class="line">gulp.task(<span class="string">'scripts'</span>, <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</div><div class="line">    <span class="keyword">return</span> gulp.src(<span class="string">'src/js/*.js'</span>)</div><div class="line">    	.pipe(gulp.dest(<span class="string">'dist/js'</span>))</div><div class="line">        .pipe(rename(&#123; <span class="attr">suffix</span>: <span class="string">'.min'</span> &#125;))</div><div class="line">        .pipe(sourcemaps.init(&#123;<span class="attr">loadMaps</span>: <span class="literal">true</span>&#125;))</div><div class="line">    	.pipe(uglify())</div><div class="line">        .pipe(sourcemaps.write(<span class="string">'./'</span>))</div><div class="line">        .on(<span class="string">'error'</span>, gutil.log)</div><div class="line">        .pipe(gulp.dest(<span class="string">'dist/js'</span>))</div><div class="line">        .pipe(connect.reload());</div><div class="line">&#125;);</div></pre></td></tr></table></figure>

  </div>
  <div class="post-footer">
    
      <div class="footer-post-tags">
        
          <div class="post-tags-item">
            <i class="iconfont icon-msnui-tag"></i>
            <a href="/tags/gulp/">gulp</a>
          </div>
        
      </div>
    
    
      <div class="copyright-desc">
  <div>
    <span>本文地址：</span>
    <a href="http://blog.ywulin.com/201706251602.html">http://blog.ywulin.com/201706251602.html</a>
  </div>
  <div>转载请注明出处，谢谢！</div>
</div>

    
    
      <div class="article-tip">
  <div>您的支持将鼓励我继续创作！</div>
  <a id="tip-btn" class="tip-btn">赏</a>
  <div class="tip-method hide">
    <div class="tip-method-item">
      <img src="/image/wepay.JPG" alt="微信打赏">
      <div>微信打赏</div>
    </div>
    <div class="tip-method-item">
      <img src="/image/alipay.JPG" alt="支付宝打赏">
      <div>支付宝打赏</div>
    </div>
  </div>
</div>

    
    <div class="near-article">
      
      
    </div>
    
      <div class="foot-share">
        <div>分享到：</div>
        <div class="bdsharebuttonbox">
          <a href="#" class="bds_more" data-cmd="more"></a>
          <a href="#" class="bds_mshare" data-cmd="mshare" title="分享到一键分享"></a>
          <a href="#" class="bds_qzone" data-cmd="qzone" title="分享到QQ空间"></a>
          <a href="#" class="bds_sqq" data-cmd="sqq" title="分享到QQ好友"></a>
          <a href="#" class="bds_weixin" data-cmd="weixin" title="分享到微信"></a>
          <a href="#" class="bds_tsina" data-cmd="tsina" title="分享到新浪微博"></a>
          <a href="#" class="bds_renren" data-cmd="renren" title="分享到人人网"></a>
          <a href="#" class="bds_douban" data-cmd="douban" title="分享到豆瓣网"></a>
          <a href="#" class="bds_tieba" data-cmd="tieba" title="分享到百度贴吧"></a>
          <a href="#" class="bds_youdao" data-cmd="youdao" title="分享到有道云笔记"></a>
          <a href="#" class="bds_copy" data-cmd="copy" title="复制网址"></a>
        </div>
      </div>
      <script>
        window._bd_share_config = {
          'common': {
            'bdText': '',
            'bdDesc': 'Gulp.js 是一个自动化构建工具,开发者可以使用它在项目开发过程中自动执行常见任务。在这里介绍了gulp的入门，插件和gulpfile.js配置文件。',
            'bdUrl': 'http://blog.ywulin.com/201706251602.html',
            'bdMini': '2',
            'bdMiniList': false,
            'bdStyle': '1',
            'bdSize': '16'
          },
          'share': {}
        };
        with(document)0[(getElementsByTagName('head')[0]||body).appendChild(createElement('script')).src='http://bdimg.share.baidu.com/static/api/js/share.js?v=89860593.js?cdnversion='+~(-new Date()/36e5)];
      </script>
    
    
      <div class="pinglun-tips">tips：网易评论修改昵称和头像请下载手机app网易新闻</div>
    
  </div>
  
    <div id="cloud-tie-wrapper" class="cloud-tie-wrapper"></div>
    <script src="https://img1.cache.netease.com/f2e/tie/yun/sdk/loader.js"></script>
    <script>
      var cloudTieConfig = {
        url: document.location.href,
        sourceId: "",
        productKey: "d43d15ba9004441ab4775eb8f1ba0f35",
        target: "cloud-tie-wrapper"
      };
      var yunManualLoad = true;
      Tie.loader("aHR0cHM6Ly9hcGkuZ2VudGllLjE2My5jb20vcGMvbGl2ZXNjcmlwdC5odG1s", true);
    </script>
  
</div>

        </section>
        <div id="toolbar">
          
  <div class="widget-item">
  <div id="search-mask" class="hide"></div>
  <div class="search-block js-transition-click">
    <input class="search-input" id="search-key" type="text" placeholder="搜索文章">
    <span id="search-btn" class="iconfont icon-sousuo_sousuo"></span>
    <i class="search-bottom"></i>
    <i class="search-transition-line js-transition-bottom"></i>
    <div id="search-result" class="hide">
      <div class="search-result-content"></div>
    </div>
    <div class="hide">
      <template id="search-tpl">
        <div class="search-result-item">
          <a href="/{{path}}" title="{{title}}">
            <div class="item-title">{{title}}</div>
            <div class="item-date">{{date}}</div>
            <div class="tags">{{tags}}</div>
          </a>
        </div>
      </template>
    </div>
  </div>
</div>


  
  <div class="widget-item">
    <h3 class="widget-title">
      <i class="iconfont icon-wenzhang"></i>
      <span>最新文章</span>
    </h3>
    <ul class="widget">
      
        <li>
          <a href="/201706251602.html">gulp自动化构建工具学习</a>
        </li>
      
    </ul>
  </div>



  
  <div class="widget-item">
    <h3 class="widget-title">
      <i class="iconfont icon-fenlei"></i>
      <span>分类</span>
    </h3>
    <div class="widget">
      <ul class="category-list"><li class="category-list-item"><a class="category-list-link" href="/categories/自动化构建工具/">自动化构建工具</a><span class="category-list-count">1</span></li></ul>
    </div>
  </div>



  
  <div class="widget-item">
    <h3 class="widget-title">
      <i class="iconfont icon-msnui-tag"></i>
      <span>标签</span>
    </h3>
    <div class="widget">
      <ul class="tag-list"><li class="tag-list-item"><a class="tag-list-link" href="/tags/gulp/">gulp</a><span class="tag-list-count">1</span></li></ul>
    </div>
  </div>



  
  <div class="widget-item">
    <h3 class="widget-title">
      <i class="iconfont icon-book2"></i>
      <span>归档</span>
    </h3>
    <div class="widget">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/06/">六月 2017</a><span class="archive-list-count">1</span></li></ul>
    </div>
  </div>




        </div>
      
    </div>
    
      <a id="to-top" title="回到顶部">
  <div class="to-top-content js-transition-hover">
    <div class="to-top-bg js-transition-bottom"></div>
    <span class="iconfont icon-xiangshang"></span>
  </div>
</a>

    
    <div id="footer">
  
    <div class="footer-count">
      <span id="busuanzi_container_site_pv">
        本站总访问量<span id="busuanzi_value_site_pv"></span>次
      </span>
    </div>
  
  <div class="footer-info">
    <p>Copyright &copy; <a href="http://blog.ywulin.com/201706251602.html">涯无凌（yawuling）</a>.</p>
    <p>Power by <a href="https://hexo.io/">Hexo</a></P>
  </div>
</div>

  </div>
  <script src="/js/jquery-3.2.1.min.js"></script>
  
    <script async src="https://dn-lbstatics.qbox.me/busuanzi/2.3/busuanzi.pure.mini.js"></script>
  
  <script src="/js/Ani.js"></script>
  
    <script src="/js/search.js"></script>
  
</body>
</html>
